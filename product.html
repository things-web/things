<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Product - Things.in</title>
<link rel="stylesheet" href="css/style.css">

<style>
.product-page{
  max-width:420px;
  margin:40px auto;
  text-align:center;
}

.product-page img{
  width:100%;
  max-width:320px;
  margin:auto;
  display:block;
}

.product-name{font-size:20px;margin-top:12px;}
.product-desc{font-size:14px;color:#555;margin-top:6px;}

.size-select, .color-select{
  margin-top:10px;
  display:flex;
  justify-content:center;
  gap:10px;
}

.size-btn{
  padding:5px 10px;
  border:1px solid #0a1f44;
  cursor:pointer;
  font-size:13px;
}

.color-box{
  width:22px;height:22px;cursor:pointer;border:1px solid #aaa;
}
.yellow{background:#f5d76e;}
.grey{background:#aaa;}

.add-cart-btn{
  margin-top:14px;
  padding:8px 16px;
  border:1px solid #0a1f44;
  background:white;
  cursor:pointer;
}

.cart-icon{position:relative;text-decoration:none;font-size:20px;}
.cart-count{
  position:absolute;top:-8px;right:-10px;
  background:#0a1f44;color:white;
  font-size:12px;padding:2px 6px;border-radius:50%;
}
</style>
</head>
<body>

<nav>
  <div class="logo"><a href="index.html" style="text-decoration:none;color:#0a1f44;">Things.in</a></div>
  <div class="nav-links">
    <a href="apparels.html">Apparels</a>
    <a href="accessories.html">Accessories</a>
    <a href="cart.html" class="cart-icon">ðŸ›’<span id="cart-count" class="cart-count">0</span></a>
  </div>
</nav>

<div class="product-page" id="product-container"></div>

<script>
const products = {

  // ACCESSORY
  pandabottle:{
    name:"Panda Bottle",
    price:399,
    desc:"Cute insulated bottle for everyday use.",
    images:[
      "images/accessories/pandabottle4.png",
      "images/accessories/pandabottle1.png",
      "images/accessories/pandabottle2.png",
      "images/accessories/pandabottle3.png"
    ],
    type:"color"
  },

  // APPARELS
  "anime-tshirt":{name:"Oversized Anime Printed Tshirt",price:449,desc:"Soft oversized streetwear fit.",img:"images/apparels/animetshirt.jpg"},
  "black-pant":{name:"Black Korean Pants",price:559,desc:"Minimal loose-fit trousers.",img:"images/apparels/blackkoreanpant.jpg"},
  "brown-pant":{name:"Brown Korean Pants",price:559,desc:"Earth-tone relaxed fit.",img:"images/apparels/brownkoreanpant.jpg"},
  "cream-pant":{name:"Cream Korean Pants",price:559,desc:"Light neutral everyday pants.",img:"images/apparels/creamkoreanpants.jpg"},
  "light-jeans":{name:"Light Blue Jeans",price:559,desc:"Classic washed denim.",img:"images/apparels/lightbluejean.jpg"},
  "washed-jeans":{name:"Washed Out Jeans",price:559,desc:"Vintage faded denim look.",img:"images/apparels/washedoutjeans.png"},
  "white-track":{name:"White Bonkers Track",price:699,desc:"Premium comfy track pants.",img:"images/apparels/whitebonkerstrack.png"},
  "grey-track":{name:"Grey Bonkers Track",price:699,desc:"Athleisure everyday track.",img:"images/apparels/greybonkerstrack.jpg"},
  "yellow-sundress":{name:"Yellow Sundress",price:799,desc:"Bright summer dress.",img:"images/apparels/yellowsundress.jpg"},
  "red-sundress":{name:"Red Sundress",price:799,desc:"Elegant vibrant dress.",img:"images/apparels/redsundress.png"},
  "blue-sundress":{name:"Blue Sundress",price:799,desc:"Soft flowy sundress.",img:"images/apparels/bluesundress.png"}
};

const id=new URLSearchParams(window.location.search).get("id");
const p=products[id];
const container=document.getElementById("product-container");

if(!p){container.innerHTML="<h2>Product not found</h2>";}
else{
  let html=`<img id="mainImg" src="${p.img||p.images[0]}">
  <div class="product-name">${p.name}</div>
  <div class="product-desc">${p.desc}</div>
  <div class="price">â‚¹${p.price}</div>`;

  if(p.type==="color"){
    html+=`
    <div class="color-select">
      <div class="color-box yellow" onclick="switchImg(3)"></div>
      <div class="color-box grey" onclick="switchImg(1)"></div>
    </div>`;
  }else{
    html+=`
    <div class="size-select">
      <div class="size-btn">S</div>
      <div class="size-btn">M</div>
      <div class="size-btn">L</div>
    </div>`;
  }

  html+=`<button class="add-cart-btn" onclick="addToCart('${p.name}',${p.price},'${p.img||p.images[0]}')">Add to Cart</button>`;
  container.innerHTML=html;
}

function switchImg(i){document.getElementById("mainImg").src=products[id].images[i];}

function getCart(){return JSON.parse(localStorage.getItem("cart"))||[];}
function saveCart(c){localStorage.setItem("cart",JSON.stringify(c));updateCount();}
function updateCount(){let t=0;getCart().forEach(i=>t+=i.qty);document.getElementById("cart-count").innerText=t;}
function addToCart(name,price,img){
  let c=getCart();
  let it=c.find(p=>p.name===name);
  if(it)it.qty++; else c.push({name,price,img,qty:1});
  saveCart(c);
}

updateCount();
</script>

</body>
</html>
