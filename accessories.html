<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Accessories | Things.in</title>
<link rel="stylesheet" href="css/style.css"/>

<style>
.page-title{
  text-align:center;
  font-size:28px;
  margin:30px 0;
}

.product-grid{
  display:flex;
  justify-content:center;
  padding:20px;
}

.product-card{
  width:260px;
  text-align:center;
}

/* SLIDER */
.slider{
  position:relative;
  overflow:hidden;
  border-radius:12px;
}

.slider img{
  width:100%;
  display:none;
  user-select:none;
}

.slider img.active{
  display:block;
  animation:fade 0.3s ease;
}

@keyframes fade{
  from{opacity:0;}
  to{opacity:1;}
}

/* ARROWS */
.arrow{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  font-size:26px;
  color:#222;                     
  background:rgba(255,255,255,0.6); 
  padding:6px 10px;
  border-radius:50%;
  cursor:pointer;
  opacity:0.8;                    
  transition:0.3s;
  backdrop-filter: blur(2px);
  z-index:10;
}

.left{ left:-25px; }
.right{ right:-25px; }

.arrow:hover{
  opacity:1;
  background:rgba(255,255,255,0.9);
}

.product-name{
  margin-top:12px;
  font-size:16px;
}

.product-price{
  margin-top:4px;
  font-size:15px;
  color:#444;
}

@media(max-width:600px){
  .product-card{width:85%;}
  .left{ left:-12px; }
  .right{ right:-12px; }
}
</style>
</head>

<body>

<nav>
  <div class="logo">Things.in</div>
  <div class="nav-links">
    <a href="index.html">Home</a>
    <a href="apparels.html">Apparels</a>
  </div>
</nav>

<h2 class="page-title">Accessories</h2>

<section class="product-grid">
  <div class="product-card">

    <div class="slider" id="slider">
      <span class="arrow left" onclick="changeSlide(-1)">&#10094;</span>

      <!-- Set pandabottle4.png as active first -->
      <img src="images/accessories/pandabottle1.png">
      <img src="images/accessories/pandabottle2.png">
      <img src="images/accessories/pandabottle3.png">
      <img src="images/accessories/pandabottle4.png" class="active">
      <img src="images/accessories/pandabottle5.png">
      <img src="images/accessories/pandabottle6.png">

      <span class="arrow right" onclick="changeSlide(1)">&#10095;</span>
    </div>

    <div class="product-name">Panda Bottle</div>
    <div class="product-price">â‚¹399</div>

  </div>
</section>

<script>
const slides = document.querySelectorAll("#slider img");

// Start with pandabottle4.png which is 4th in array (index 3)
let current = 3;

function showSlide(index){
  slides.forEach(img => img.classList.remove("active"));
  slides[index].classList.add("active");
}

showSlide(current);

function changeSlide(step){
  current += step;
  if(current < 0) current = slides.length - 1;
  if(current >= slides.length) current = 0;
  showSlide(current);
}

/* TOUCH SWIPE */
let startX = 0;
const slider = document.getElementById("slider");

slider.addEventListener("touchstart", e=>{
  startX = e.touches[0].clientX;
});

slider.addEventListener("touchend", e=>{
  let endX = e.changedTouches[0].clientX;
  if(startX - endX > 50) changeSlide(1);
  if(endX - startX > 50) changeSlide(-1);
});

/* MOUSE DRAG */
let isDown = false;

slider.addEventListener("mousedown", e=>{
  isDown = true;
  startX = e.clientX;
});

document.addEventListener("mouseup", e=>{
  if(!isDown) return;
  isDown = false;
  let endX = e.clientX;
  if(startX - endX > 50) changeSlide(1);
  if(endX - startX > 50) changeSlide(-1);
});
</script>

</body>
</html>
